<!doctype html>
<html lang="ru" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <meta name="color-scheme" content="light dark">
  <title>–©–Å–¢–ö–ê</title>

  <link rel="stylesheet" href="app.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body>
  <div class="app" id="app">

    <!-- FIXED HEADER -->
    <header class="topbar" role="banner">
      <div class="brandSlot" aria-hidden="true">
        <img class="appLogo" src="logo.png" alt="–©–Å–¢–ö–ê" />
      </div>
    </header>

    <!-- STAGE -->
    <main class="stage" role="main">

      <!-- HOME -->
      <section class="page" data-page="home">
        <div class="hero glass">
          <div class="heroGlow" aria-hidden="true"></div>

          <div class="heroTop">
            <div class="kickerCenter">–•–∏–º—á–∏—Å—Ç–∫–∞ ‚Ä¢ –ü–æ–∫—Ä–∞—Å–∫–∞ ‚Ä¢ –†–µ–º–æ–Ω—Ç</div>
            <div class="heroTitleCenter">–°–µ—Ä–≤–∏—Å –©–Å–¢–ö–ê</div>
            <div class="heroSubCenter">
              –ë—ã—Å—Ç—Ä–æ –æ—Ñ–æ—Ä–º–ª—è–π—Ç–µ —É—Å–ª—É–≥–∏, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∑–∞–∫–∞–∑—ã –∏ –æ–±—â–∞–π—Ç–µ—Å—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
            </div>
          </div>

          <div class="ctaRow">
            <button class="cta primary" type="button" id="openEstimateSheet">
              <div class="ctaIco">üì∏</div>
              <div class="ctaText">
                <div class="ctaTitle">–û—Ü–µ–Ω–∫–∞ –ø–æ —Ñ–æ—Ç–æ</div>
                <div class="ctaSub">–†–∞—Å—Å–∫–∞–∂–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã</div>
              </div>
            </button>

            <button class="cta" type="button" id="openCourierSheet">
              <div class="ctaIco">üöö</div>
              <div class="ctaText">
                <div class="ctaTitle">–í—ã–∑–≤–∞—Ç—å –∫—É—Ä—å–µ—Ä–∞</div>
                <div class="ctaSub">–ó–∞–±–µ—Ä—ë–º –∏ –ø—Ä–∏–≤–µ–∑—ë–º –æ–±—Ä–∞—Ç–Ω–æ</div>
              </div>
            </button>
          </div>
        </div>

        <div class="grid">
          <button class="tile glass" type="button" data-nav="orders">
            <div class="tileIco">üì¶</div>
            <div class="tileTxt">
              <div class="tileTitle">–ó–∞–∫–∞–∑—ã</div>
              <div class="tileSub">–°—Ç–∞—Ç—É—Å—ã –∏ –¥–µ—Ç–∞–ª–∏</div>
            </div>
            <div class="tileChevron">‚Ä∫</div>
          </button>

          <button class="tile glass" type="button" data-nav="price">
            <div class="tileIco">üí∞</div>
            <div class="tileTxt">
              <div class="tileTitle">–ü—Ä–∞–π—Å</div>
              <div class="tileSub">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —É—Å–ª—É–≥–∏</div>
            </div>
            <div class="tileChevron">‚Ä∫</div>
          </button>

          <button class="tile glass" type="button" id="supportOpenFromHome">
            <div class="tileIco">üí¨</div>
            <div class="tileTxt">
              <div class="tileTitle">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
              <div class="tileSub">–ù–∞–ø–∏—Å–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É</div>
            </div>
            <div class="tileChevron">‚Ä∫</div>
          </button>
        </div>
      </section>

      <!-- ORDERS -->
      <section class="page" data-page="orders" hidden>
        <div class="pageHead">
          <button class="backBtn" type="button" data-back aria-label="–ù–∞–∑–∞–¥">‚Äπ</button>
          <div>
            <div class="pageTitle">–ó–∞–∫–∞–∑—ã</div>
            <div class="pageSub">–ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É –∏ —Å–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö –∑–∞–∫–∞–∑–æ–≤</div>
          </div>
        </div>

        <!-- Search by order id -->
        <div class="glass searchBar">
          <div class="searchIco">üîé</div>
          <input id="orderSearchInput" class="searchInput" inputmode="numeric" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞" />
          <button id="orderSearchBtn" class="searchBtn" type="button">–ù–∞–π—Ç–∏</button>
        </div>
        <div id="searchResult" class="searchResult"></div>

        <div class="sectionTitle">–í–∞—à–∏ –∑–∞–∫–∞–∑—ã</div>
        <div id="ordersList" class="orders"></div>
      </section>

      <!-- PRICE -->
      <section class="page" data-page="price" hidden>
        <div class="pageHead">
          <button class="backBtn" type="button" data-back aria-label="–ù–∞–∑–∞–¥">‚Äπ</button>
          <div>
            <div class="pageTitle">–ü—Ä–∞–π—Å</div>
            <div class="pageSub">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥</div>
          </div>
        </div>

        <div class="priceTabs glass" id="priceTabs"></div>
        <div id="priceContent" class="price"></div>
      </section>

      <!-- PROFILE -->
      <section class="page" data-page="profile" hidden>
        <div class="pageHead">
          <button class="backBtn" type="button" data-back aria-label="–ù–∞–∑–∞–¥">‚Äπ</button>
          <div>
            <div class="pageTitle">–ü—Ä–æ—Ñ–∏–ª—å</div>
            <div class="pageSub">–í–∏–¥ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</div>
          </div>
        </div>

        <div class="profile glass">
          <div class="profileRow">
            <div class="avatarWrap">
              <img id="tgAvatar" class="avatarImg" alt="" hidden />
              <div id="avatarFallback" class="avatarFallback">–©</div>
            </div>

            <div class="profileMeta">
              <div id="tgName" class="profileName">‚Äî</div>
              <div class="profileHint" id="tgPhoneLine">–¢–µ–ª–µ—Ñ–æ–Ω: <span id="tgPhoneValue">‚Äî</span></div>
            </div>
          </div>

          <div class="profileActions">
            <button class="profileBtn" id="addPhoneBtn" type="button" hidden>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä</button>
          </div>
        </div>

        <div class="settings glass">
          <div class="settingsTitle">–í–∏–¥</div>

          <div class="settingRow">
            <div class="settingText">
              <div class="settingName">–¢–µ–º–∞</div>
              <div class="settingDesc">–°–≤–µ—Ç–ª–∞—è –∏–ª–∏ —Ç—ë–º–Ω–∞—è</div>
            </div>

            <button id="themeToggle" class="switch" type="button" role="switch" aria-checked="false" aria-label="–¢–µ–º–∞">
              <span class="knob"></span>
            </button>
          </div>

          <div class="settingRow">
            <div class="settingText">
              <div class="settingName">–§–æ–Ω</div>
              <div class="settingDesc">–ü–∞—Ç—Ç–µ—Ä–Ω –Ω–∞ —Ñ–æ–Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</div>
            </div>

            <button id="patternToggle" class="switch" type="button" role="switch" aria-checked="true" aria-label="–§–æ–Ω">
              <span class="knob"></span>
            </button>
          </div>
        </div>

        <button class="supportBtn glass" id="supportOpenFromProfile" type="button">
          üí¨ –ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É
        </button>
      </section>

      <section class="page" data-page="estimate" hidden>
        <div class="pageHead">
          <button class="backBtn" id="estimateBackBtn" type="button" aria-label="–ù–∞–∑–∞–¥">‚Äπ</button>
          <div>
            <div class="pageTitle">–û—Ü–µ–Ω–∫–∞ –ø–æ —Ñ–æ—Ç–æ</div>
            <div class="pageSub">–ë—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É—Å–ª—É–≥–∏ –ø–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—é</div>
          </div>
        </div>
      
        <div class="pageBody">
          <div class="estimateCard glass">
            <label class="field">
              <div class="fieldLabel">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
              <select id="estimateCategory" class="fieldSelect">
                <option value="–û–±—É–≤—å">–û–±—É–≤—å</option>
                <option value="–°—É–º–∫–∞">–°—É–º–∫–∞</option>
                <option value="–í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞">–í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞</option>
                <option value="–ê–∫—Å–µ—Å—Å—É–∞—Ä">–ê–∫—Å–µ—Å—Å—É–∞—Ä</option>
                <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
              </select>
            </label>
      
            <div class="reveal" id="estimateOtherWrap" aria-hidden="true" style="margin-top:12px;">
              <label class="field">
                <div class="fieldLabel">–ß—Ç–æ –∑–∞ –≤–µ—â—å?</div>
                <input id="estimateOtherItem" class="fieldInput" />
              </label>
            </div>
      
            <label class="field" style="margin-top:12px;">
              <div class="fieldHint">–û–ø–∏—à–∏—Ç–µ –≤–µ—â—å, –ø—Ä–æ–±–ª–µ–º—É –∏ —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å?</div>
              <input id="estimateProblem" class="fieldInput" />
            </label>
      
            <div style="height:14px"></div>
      
            <div style="display:flex; justify-content:center;">
              <button id="estimateNextBtn" class="cta primary" type="button" disabled style="max-width:340px; width:100%;">
                –î–∞–ª–µ–µ
              </button>
            </div>
          </div>
        </div>
      </section>
      
    </main>

    <!-- TABBAR -->
    <nav class="tabbar glass" role="navigation" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
      <button class="tab active" type="button" data-nav="home" aria-label="–ì–ª–∞–≤–Ω–∞—è">
        <span class="tIco" aria-hidden="true">üè†</span>
        <span class="tTxt">–ì–ª–∞–≤–Ω–∞—è</span>
      </button>

      <button class="tab" type="button" data-nav="orders" aria-label="–ó–∞–∫–∞–∑—ã">
        <span class="tIco" aria-hidden="true">üì¶</span>
        <span class="tTxt">–ó–∞–∫–∞–∑—ã</span>
      </button>

      <button class="tab" type="button" data-nav="price" aria-label="–ü—Ä–∞–π—Å">
        <span class="tIco" aria-hidden="true">üí∞</span>
        <span class="tTxt">–ü—Ä–∞–π—Å</span>
      </button>

      <button class="tab" type="button" data-nav="profile" aria-label="–ü—Ä–æ—Ñ–∏–ª—å">
        <span class="tIco" aria-hidden="true">üë§</span>
        <span class="tTxt">–ü—Ä–æ—Ñ–∏–ª—å</span>
      </button>
    </nav>

    <!-- CHAT FAB -->
    <button class="chatFab" id="chatFab" type="button" aria-label="–ü–æ–¥–¥–µ—Ä–∂–∫–∞">
      üí¨
      <span class="chatFabDot" id="chatDot" hidden></span>
    </button>

    <!-- CHAT PANEL -->
    <section class="chat" id="chat" aria-hidden="true">
      <div class="chatBackdrop" data-chat-close></div>

      <div class="chatPanel" role="dialog" aria-label="–ü–æ–¥–¥–µ—Ä–∂–∫–∞">
        <div class="chatHead">
          <div>
            <div class="chatTitle">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
            <div class="chatSub">–ú—ã –Ω–∞ —Å–≤—è–∑–∏</div>
          </div>
          <button class="chatClose" type="button" data-chat-close aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
        </div>

        <div class="chatBody" id="chatBody"></div>

        <form class="chatForm" id="chatForm">
          <input class="chatInput" id="chatInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ‚Ä¶" autocomplete="off" />
          <button class="chatSend" type="submit" aria-label="–û—Ç–ø—Ä–∞–≤–∏—Ç—å">‚û§</button>
        </form>
      </div>
    </section>

    <!-- ORDER MODAL (center) -->
    <section class="modal" id="orderModal" aria-hidden="true">
      <div class="modalBackdrop" data-close></div>
      <div class="modalCard">
        <button class="modalClose" type="button" data-close aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
        <div id="modalContent"></div>
      </div>
    </section>

    <!-- OCENKA PO PHOTO MODAL -->

    <section class="modal" id="estimateSendModal" aria-hidden="true">
      <div class="modalBackdrop" data-est-send-close></div>
      <div class="modalCard">
        <button class="modalClose" type="button" data-est-send-close aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    
        <div class="modalH">–î–∞–ª—å—à–µ –Ω—É–∂–Ω–æ —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ</div>
        <p class="modalP">
          –î–ª—è –∑–∞–≤–µ—Ä–µ—à–µ–Ω–∏—è –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –≤ –±–æ—Ç–∞ –∏ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –∏–ª–∏ –≤–∏–¥–µ–æ –≤–µ—â–∏.
        </p>
    
        <div class="modalGrid">
          <button id="estimateSubmitBtn" class="smallBtn primary" type="button">
            –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ç–æ
          </button>
        </div>
      </div>
    </section>
    
    <!-- PHONE MODAL -->
    <section class="modal" id="phoneModal" aria-hidden="true">
      <div class="modalBackdrop" data-phone-close></div>
      <div class="modalCard">
        <button class="modalClose" type="button" data-phone-close aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
        <div class="modalH">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</div>
        <p class="modalP">–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä ‚Äî —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤.</p>

        <div class="modalGrid">
          <div class="modalRowCol">
            <span>–í–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é</span>
            <div class="phoneRow">
              <input id="phoneInput" class="phoneInput" inputmode="tel" placeholder="+7 9xx xxx-xx-xx" />
              <button id="phoneSaveBtn" class="smallBtn primary" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
          </div>

          <div style="height:10px"></div>

          <button id="phoneRequestBtn" class="smallBtn" type="button">
            –í–∑—è—Ç—å –∏–∑ Telegram
          </button>
        </div>
      </div>
    </section>

    <!-- COURIER SHEET -->
    <section class="sheet" id="courierSheet" aria-hidden="true">
      <div class="sheetBackdrop" data-courier-close></div>
      <div class="sheetCard">
        <div class="sheetHead">
          <div>
            <div class="sheetTitle">–í—ã–∑–≤–∞—Ç—å –∫—É—Ä—å–µ—Ä–∞</div>
            <div class="sheetSub">–£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</div>
          </div>
          <button class="sheetClose" type="button" data-courier-close aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
        </div>

        <div class="sheetBody">
          <label class="field">
            <div class="fieldLabel">–ê–¥—Ä–µ—Å</div>
            <input id="courierAddress" class="fieldInput" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º, –ø–æ–¥—ä–µ–∑–¥" />
          </label>

          <label class="field">
            <div class="fieldLabel">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</div>
            <input id="courierComment" class="fieldInput" placeholder="–£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã" />
          </label>

          <button id="courierSendBtn" class="cta primary sheetBtn" type="button">
            –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
          </button>
        </div>
      </div>
    </section>
    
    <!-- CONFIRM MODAL: leave estimate -->
    <section class="modal" id="leaveEstimateModal" aria-hidden="true">
      <div class="modalBackdrop" data-leave-close></div>
      <div class="modalCard">
        <button class="modalClose" type="button" data-leave-close aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
        <div class="modalH">–í—ã–π—Ç–∏ –∏–∑ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è?</div>
        <p class="modalP">
          –í—ã —É–∂–µ –Ω–∞—á–∞–ª–∏ –∑–∞–ø–æ–ª–Ω—è—Ç—å –∑–∞—è–≤–∫—É. –ï—Å–ª–∏ –≤—ã–π—Ç–∏ —Å–µ–π—á–∞—Å ‚Äî –≤–≤–µ–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è.
        </p>
        <div class="modalGrid">
          <button id="leaveStayBtn" class="smallBtn primary" type="button">–û—Å—Ç–∞—Ç—å—Å—è</button>
          <button id="leaveExitBtn" class="smallBtn" type="button">–í—ã–π—Ç–∏</button>
        </div>
      </div>
    </section>
    
    <!-- LOADING OVERLAY -->
    <div class="globalLoading" id="globalLoading" aria-hidden="true">
      <div class="globalLoadingCard glass">
        <div class="spinner"></div>
        <div class="globalLoadingText">–ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤–∞—à—É –∑–∞—è–≤–∫—É<span id="dots">...</span></div>
      </div>
    </div>

  </div>

  <script src="app.js"></script>
</body>
</html>
